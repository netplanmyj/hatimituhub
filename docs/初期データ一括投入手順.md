# Firestore初期データ一括投入手順（Dartスクリプト例）

## 概要
Firestoreコレクション（例：customer_types, products等）に初期データを一括投入するDartスクリプトの実装例と運用手順です。

---

## 1. スクリプト作成例

`lib/seed/seed_customer_types.dart` などに以下のようなスクリプトを作成します。

```dart
import 'package:cloud_firestore/cloud_firestore.dart';
import 'package:firebase_core/firebase_core.dart';
import '../firebase_options.dart';

Future<void> main() async {
  // Firebase初期化
  await Firebase.initializeApp(
    options: DefaultFirebaseOptions.currentPlatform,
  );

  final firestore = FirebaseFirestore.instance;

  // 初期データリスト
  final List<Map<String, dynamic>> customerTypes = [
    {
      'userId': 'adminUserId',
      'name': '法人',
      'createdAt': Timestamp.now(),
    },
    {
      'userId': 'adminUserId',
      'name': '個人',
      'createdAt': Timestamp.now(),
    },
    // 必要に応じて追加
  ];

  // 一括投入
  for (var data in customerTypes) {
    await firestore.collection('customer_types').add(data);
    print('Inserted: ${data['name']}');
  }

  print('Seed completed!');
}
```

---

## 2. 実行手順

1. 上記スクリプトを `lib/seed/` ディレクトリに作成
2. ターミナルで以下を実行

```sh
dart lib/seed/seed_customer_types.dart
```

---

## 3. 他コレクションへの応用
- `customerTypes` の部分を `products` など他コレクション用リスト・フィールドに変更すれば流用可能
- `userId` や他のフィールド値も用途に応じて調整

---

## 4. 注意事項
- スクリプトは一度だけ実行（重複投入に注意）
- 本番環境投入時はデータ内容・権限に注意
- 必要に応じて管理画面やCSV/JSONインポートも検討

---

## 参考
- [公式ドキュメント: Cloud Firestore](https://firebase.google.com/docs/firestore)
- [firebase_core, cloud_firestore パッケージ](https://pub.dev/packages/cloud_firestore)
